<div class="carousel-section">
	<div class="carousel-item carousel-item-prev" (click)="prevSlide()">
		<img [src]="getPreviousItem().image" [alt]="getPreviousItem().title" />
		<div class="item-title">{{ getPreviousItem().title }}</div>
	</div>

	<div class="carousel-item carousel-item-current">
		<img
			[src]="getCurrentItem().image"
			[alt]="getCurrentItem().title"
			(click)="showModal(getCurrentItem().id)" />
		<div class="item-title-main">{{ getCurrentItem().title }}</div>
		<ng-container
			*ngTemplateOutlet="
				projectTemplate;
				context: {
					projectId: getCurrentItem().id,
					title: getCurrentItem().title,
					content: getCurrentItem().description,
				}
			">
		</ng-container>
	</div>

	<div class="carousel-item carousel-item-next" (click)="nextSlide()">
		<img [src]="getNextItem().image" [alt]="getNextItem().title" />
		<div class="item-title">{{ getNextItem().title }}</div>
	</div>
</div>

<div class="carousel-indicator">
	<div class="indicator-controls">
		<button class="arrow-btn" (click)="prevSlide()" aria-label="Previous project">
			<svg width="16" height="16" viewBox="0 0 16 16" fill="none">
				<path
					d="M10 12L6 8L10 4"
					stroke="currentColor"
					stroke-width="2"
					stroke-linecap="round"
					stroke-linejoin="round" />
			</svg>
		</button>
		<div class="indicator-dots">
			<span
				*ngFor="let item of portfolioItems; let i = index"
				class="dot"
				[class.active]="i === currentIndex"
				(click)="goToSlide(i)">
			</span>
		</div>
		<button class="arrow-btn" (click)="nextSlide()" aria-label="Next project">
			<svg width="16" height="16" viewBox="0 0 16 16" fill="none">
				<path
					d="M6 12L10 8L6 4"
					stroke="currentColor"
					stroke-width="2"
					stroke-linecap="round"
					stroke-linejoin="round" />
			</svg>
		</button>
	</div>
</div>

<div class="description-section">
	<div class="description-content">
		<h2 class="description-title">
			{{ getCurrentItem().title }}
		</h2>
		Click on the image to get more information!
		<br />
	</div>
</div>

<ng-template #projectTemplate let-projectId="projectId" let-title="title" let-content="content">
	<nz-modal
		[(nzVisible)]="isVisible[projectId]"
		[nzTitle]="title"
		(nzOnCancel)="closeModal(projectId)"
		(nzOnOk)="closeModal(projectId)">
		<ng-container *nzModalContent>
			<p style="text-align: justify">
				{{ content }}
			</p>
		</ng-container>
	</nz-modal>
</ng-template>
